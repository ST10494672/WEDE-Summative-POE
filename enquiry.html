<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Serve & Give | Grace & Grounds Coffeehouse</title>

  <!-- Google Fonts with font-display swap -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Open+Sans&family=Dancing+Script:wght@600&display=swap&font-display=swap" rel="stylesheet">

  <!-- External CSS -->
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>

  <!-- Header & Navigation -->
  <header>
    <nav id="navbar" aria-label="Main navigation">
      <div class="logo">Grace & Grounds</div>
      <ul class="nav-links" id="navLinks">
        <li><a href="index.html">Home</a></li>
        <li><a href="about.html">About Us</a></li>
        <li><a href="menu.html">Menu</a></li>
        <li><a href="enquiry.html" class="active">Serve & Give</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
      <div class="menu-toggle" id="menuToggle" aria-label="Toggle navigation menu">☰</div>
    </nav>
  </header>

  <!-- Main Content -->
  <main>
    <h1>Serve & Give</h1>
    <p class="subtitle">Join us in growing a community grounded in grace.</p>

    <!-- How You Can Serve -->
    <section class="section">
      <h2>How You Can Serve</h2>
      <p>At Grace & Grounds, every volunteer is a vital part of our mission. Whether you love making coffee, connecting with people, or behind-the-scenes support, there’s a place for you.</p>

      <div class="opportunities">
        <div class="role">
          <h3>Barista Support</h3>
          <p>Help prepare coffee, maintain cleanliness, and welcome guests. Training provided — no experience needed, just a warm heart.</p>
        </div>

        <div class="role">
          <h3>Guest Host / Waiter</h3>
          <p>Greet visitors, take light orders, and create a peaceful atmosphere. Ideal for empathetic, friendly individuals.</p>
        </div>

        <div class="role">
          <h3>Events & Outreach Assistant</h3>
          <p>Help set up, run prayer nights, Bible studies, and community events. Great for organisers and encouragers.</p>
        </div>

        <div class="role">
          <h3>Creative & Media Support</h3>
          <p>Photography, social media, or design skills? We’d love your help sharing our story online.</p>
        </div>
      </div>

      <div class="highlight-box">
        “Each of you should use whatever gift you have received to serve others, as faithful stewards of God’s grace.” — 1 Peter 4:10
      </div>
    </section>

    <!-- How You Can Give -->
    <section class="section">
      <h2>How You Can Give</h2>
      <p>Your generosity helps us keep our doors open, run programs, and care for those in need. Here’s how your donations are used:</p>

      <ul>
        <li><strong>60%</strong> – Café operations (fair wages, quality coffee, utilities)</li>
        <li><strong>20%</strong> – Community outreach (meals for the homeless, care packages)</li>
        <li><strong>10%</strong> – Event hosting (Bible studies, prayer nights, youth programs)</li>
        <li><strong>10%</strong> – Pay-It-Forward program (free coffee & meals for those in need)</li>
      </ul>

      <p>We are committed to transparency and stewardship. All funds stay within the Cape Town community.</p>
    </section>

    <!-- Enquiry Form -->
    <section class="form-container" aria-labelledby="form-heading">
      <h2 id="form-heading">Get in Touch</h2>
      <p>Interested in serving or have a question about giving? Fill out the form below and we’ll get back to you.</p>

      <form id="enquiryForm" novalidate>
        <label for="name">Full Name</label>
        <input type="text" id="name" name="name" required autocomplete="name" aria-describedby="nameError">
        <div id="nameError" style="color: #d32f2f; font-size: 0.85rem; margin-top: 4px; display: none;"></div>

        <label for="email">Email Address</label>
        <input type="email" id="email" name="email" required autocomplete="email" aria-describedby="emailError">
        <div id="emailError" style="color: #d32f2f; font-size: 0.85rem; margin-top: 4px; display: none;"></div>

        <label for="phone">Phone Number (Optional)</label>
        <input type="tel" id="phone" name="phone" autocomplete="tel">

        <label for="interest">I'm Interested In</label>
        <select id="interest" name="interest" required aria-describedby="interestError">
          <option value="">-- Select an Option --</option>
          <option value="barista">Volunteering as a Barista</option>
          <option value="host">Serving as a Guest Host</option>
          <option value="events">Helping with Events</option>
          <option value="creative">Creative/Media Support</option>
          <option value="donate">Making a Donation</option>
          <option value="other">Other Inquiry</option>
        </select>
        <div id="interestError" style="color: #d32f2f; font-size: 0.85rem; margin-top: 4px; display: none;"></div>

        <label for="message">Your Message</label>
        <textarea id="message" name="message" rows="5" placeholder="Tell us more..." required aria-describedby="messageError"></textarea>
        <div id="messageError" style="color: #d32f2f; font-size: 0.85rem; margin-top: 4px; display: none;"></div>

        <!-- Email client selector – Matching contact.html -->
        <fieldset style="border: none; padding: 0; margin-top: 16px;">
          <legend style="font-weight: 600; margin-bottom: 8px; font-size: 1rem;">Send using</legend>
          <div style="display: flex; flex-wrap: wrap; gap: 16px; align-items: center;">
            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
              <input type="radio" name="sendMethod" value="mailto" checked>
              <span>Default email app</span>
            </label>
            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
              <input type="radio" name="sendMethod" value="gmail">
              <span>Gmail (in browser)</span>
            </label>
          </div>
        </fieldset>

        <button type="submit">Open Email</button>
        <div id="status" style="margin-top: 12px; color: #2e7d32; font-size: 0.95rem;"></div>
      </form>
    </section>
  </main>

  <!-- Mobile Menu Toggle Script -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const menuToggle = document.getElementById('menuToggle');
      const navLinks = document.getElementById('navLinks');

      if (menuToggle && navLinks) {
        menuToggle.addEventListener('click', () => {
          navLinks.classList.toggle('active');
        });
      }
    });
  </script>

  <!-- Enquiry Form Email Handler (aligned with contact.html) -->
  <script>
  (function () {
    const RECIPIENT = 'knipejordan@gmail.com'; // Your email

    const form = document.getElementById('enquiryForm');
    const status = document.getElementById('status');

    // Error elements
    const nameError = document.getElementById('nameError');
    const emailError = document.getElementById('emailError');
    const interestError = document.getElementById('interestError');
    const messageError = document.getElementById('messageError');

    function enc(s) { return encodeURIComponent(s || ''); }

    function composeMailto(to, subject, body) {
      return 'mailto:' + enc(to) + '?subject=' + enc(subject) + '&body=' + enc(body);
    }

    function composeGmail(to, subject, body) {
      return 'https://mail.google.com/mail/?view=cm&fs=1&to=' + enc(to) + '&su=' + enc(subject) + '&body=' + enc(body);
    }

    function showError(element, message) {
      element.textContent = message;
      element.style.display = 'block';
    }

    function hideError(element) {
      element.style.display = 'none';
    }

    function validateField(field, errorElement, message) {
      if (!field.value.trim()) {
        showError(errorElement, message);
        return false;
      }
      hideError(errorElement);
      return true;
    }

    function validateEmail(email) {
      const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!re.test(email)) {
        showError(emailError, 'Please enter a valid email address.');
        return false;
      }
      hideError(emailError);
      return true;
    }

    form.addEventListener('submit', function (e) {
      e.preventDefault();

      let isValid = true;

      if (!validateField(form.name, nameError, 'Please enter your full name.')) isValid = false;
      if (!validateField(form.email, emailError, 'Please enter your email address.')) isValid = false;
      else if (!validateEmail(form.email.value)) isValid = false;
      if (!validateField(form.interest, interestError, 'Please select an option.')) isValid = false;
      if (!validateField(form.message, messageError, 'Please write your message.')) isValid = false;

      if (!isValid) {
        status.textContent = '';
        return;
      }

      const name = form.name.value.trim();
      const email = form.email.value.trim();
      const phone = form.phone.value.trim() || 'Not provided';
      const interest = form.interest.options[form.interest.selectedIndex].text;
      const message = form.message.value.trim();
      const sendMethod = (form.querySelector('input[name="sendMethod"]:checked') || {}).value || 'mailto';

      const subject = `Grace & Grounds: Serve & Give Enquiry from ${name}`;
      const body = [
        'Hello,',
        '',
        message,
        '',
        '---',
        `Name: ${name}`,
        `Email: ${email}`,
        `Phone: ${phone}`,
        `Interested In: ${interest}`,
        '',
        'Sent from Grace & Grounds "Serve & Give" form'
      ].join('\n');

      let url;
      if (sendMethod === 'gmail') {
        url = composeGmail(RECIPIENT, subject, body);
        window.open(url, '_blank', 'noopener,noreferrer');
      } else {
        url = composeMailto(RECIPIENT, subject, body);
        window.location.href = url;
      }

      status.textContent = 'Email draft opened. Please review and send from your chosen email service.';

      // Clear errors
      hideError(nameError);
      hideError(emailError);
      hideError(interestError);
      hideError(messageError);
    });

    // Real-time validation
    form.name.addEventListener('blur', () => validateField(form.name, nameError, 'Please enter your full name.'));
    form.email.addEventListener('blur', () => {
      validateField(form.email, emailError, 'Please enter your email address.');
      if (form.email.value.trim()) validateEmail(form.email.value);
    });
    form.interest.addEventListener('change', () => validateField(form.interest, interestError, 'Please select an option.'));
    form.message.addEventListener('blur', () => validateField(form.message, messageError, 'Please write your message.'));
  })();
  </script>

</body>
</html>